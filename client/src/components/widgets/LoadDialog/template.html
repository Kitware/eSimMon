<v-dialog v-model="loadDialog" max-width="700px">
  <v-card>
    <v-card-title>
      Load New View
      <v-spacer />
      <v-text-field
        single-line
        v-model="search"
        append-icon="mdi-magnify"
        label="Search"
        hide-details
      />
    </v-card-title>
    <v-card-text v-bind:style="{height: 'auto'}">
      <v-form>
        <v-container>
          <v-row>
            <v-col cols="12">
              <v-data-table
                v-model="table"
                dense
                fixed-header
                hide-default-footer
                height="300px"
                :headers="headers"
                :items="views"
                :item-class="rowClass"
                :search="search"
                @click:row="rowSelected"
                @dblclick:row="loadSelectedRow"
                class="viewTable"
                multi-sort
              >
                <template v-slot:item.created="{item}">
                  <span>{{new Date(item.created).toLocaleDateString()}}</span>
                </template>
                <template v-slot:item.actions="{item}">
                  <v-icon v-show="viewCreatedByUser(item)" small @click='dialogDelete=true'>
                    mdi-delete
                  </v-icon>
                </template>
              </v-data-table>
            </v-col>
          </v-row>
          <v-dialog v-model="dialogDelete" max-width="500px">
            <v-card>
              <v-card-title class="text-h5">Are you sure you want to delete this item?</v-card-title>
              <v-card-actions>
                <v-spacer></v-spacer>
                <v-btn text @click="dialogDelete=false">Cancel</v-btn>
                <v-btn text @click="deleteView">OK</v-btn>
                <v-spacer></v-spacer>
              </v-card-actions>
            </v-card>
          </v-dialog>
        </v-container>
      </v-form>
    </v-card-text>
    <v-card-actions>
      <v-spacer />
      <v-btn text @click.stop="clearSelection()">
        Cancel
      </v-btn>
      <v-btn text :disabled="selection===null" @click.stop="load()">
        Load
      </v-btn>
    </v-card-actions>
  </v-card>
</v-dialog>
  